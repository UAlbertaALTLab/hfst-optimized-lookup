

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>hfst-optimized-lookup &mdash; hfst-optimized-lookup 0.0.12.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> hfst-optimized-lookup
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices and tables</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">hfst-optimized-lookup</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>hfst-optimized-lookup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hfst-optimized-lookup">
<h1>hfst-optimized-lookup<a class="headerlink" href="#hfst-optimized-lookup" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.org/project/hfst-optimized-lookup/"><img alt="PyPI version" src="https://img.shields.io/pypi/v/hfst-optimized-lookup" /></a>
<a class="reference external image-reference" href="https://ualbertaaltlab.github.io/hfst-optimized-lookup/"><img alt="Documentation" src="https://github.com/UAlbertaALTLab/hfst-optimized-lookup/actions/workflows/build-docs.yml/badge.svg" /></a>
<p>A pip-installable library version of <a class="reference external" href="https://github.com/hfst/hfst/blob/master/tools/src/hfst-optimized-lookup.cc">hfst-optimized-lookup</a>, originally
built for <a class="reference external" href="https://itwewina.dev">itwêwina</a>.</p>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">hfst</span><span class="o">-</span><span class="n">optimized</span><span class="o">-</span><span class="n">lookup</span>
</pre></div>
</div>
<p>This requires that the machine running <code class="docutils literal notranslate"><span class="pre">pip</span></code> have a working C++ compiler. If
enough people ask for us to upload <a class="reference external" href="https://packaging.python.org/guides/distributing-packages-using-setuptools/#wheels">binary ‘wheels’</a> so that you don’t need a
compiler at install time, we could start doing so.</p>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><a class="reference external" href="https://ualbertaaltlab.github.io/hfst-optimized-lookup/api.html">Full API Documentation</a></p>
</div></blockquote>
<p>Import the library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hfst_optimized_lookup</span>
</pre></div>
</div>
<p>Then load an FST!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fst</span> <span class="o">=</span> <span class="n">hfst_optimized_lookup</span><span class="o">.</span><span class="n">TransducerFile</span><span class="p">(</span><span class="s1">&#39;crk-relaxed-analyzer-for-dictionary.hfstol&#39;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>Hint: <cite>Download ``crk-relaxed-analyzer-for-dictionary.hfstol`</cite> &lt;<a class="reference external" href="https://github.com/UAlbertaALTLab/hfst-optimized-lookup/releases/download/v0.0.10/crk-relaxed-analyzer-for-dictionary.hfstol">https://github.com/UAlbertaALTLab/hfst-optimized-lookup/releases/download/v0.0.10/crk-relaxed-analyzer-for-dictionary.hfstol</a>&gt;`_
to follow along!</p>
</div></blockquote>
<p>Do an ordinary lookup, to get a list of <em>concatenated analyses</em> for a wordform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fst</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">&#39;atim&#39;</span><span class="p">)</span>
<span class="go">[&#39;atim+N+A+Sg&#39;, &#39;atimêw+V+TA+Imp+Imm+2Sg+3SgO&#39;]</span>
</pre></div>
</div>
<p>Or get each <em>parsed analysis</em> from the wordform</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analysis</span> <span class="o">=</span> <span class="n">fst</span><span class="o">.</span><span class="n">lookup_lemma_with_affixes</span><span class="p">(</span><span class="s1">&#39;atim&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analysis</span><span class="o">.</span><span class="n">lemma</span>
<span class="go">&#39;atim&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analysis</span><span class="o">.</span><span class="n">suffixes</span>
<span class="go">(&#39;+N&#39;, &#39;+A&#39;, &#39;+Sg&#39;)</span>
</pre></div>
</div>
<p>You can also lookup the analyses with symbols separated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fst</span><span class="o">.</span><span class="n">lookup_symbols</span><span class="p">(</span><span class="s1">&#39;atim&#39;</span><span class="p">)</span>
<span class="go">[[&#39;a&#39;, &#39;t&#39;, &#39;i&#39;, &#39;m&#39;, &#39;+N&#39;, &#39;+A&#39;, &#39;+Sg&#39;], [&#39;a&#39;, &#39;t&#39;, &#39;i&#39;, &#39;m&#39;, &#39;ê&#39;, &#39;w&#39;, &#39;+V&#39;, &#39;+TA&#39;, &#39;+Imp&#39;, &#39;+Imm&#39;, &#39;+2Sg&#39;, &#39;+3SgO&#39;]]</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/hfst/hfst">hfst</a> is a great toolkit with all sorts of functionality, and is
indispensable for building FSTs, but for Python applications that just want
to do hfst lookups, this package may be easier to use.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">hfst-optimized-lookup</span></code> binary is actually a standalone C++ program
that doesn’t include or link against any other code in hfst, which makes it
much easier to repackage as a small Python library.</p>
<p>Among other benefits, this package can return lists of individual symbols,
including Multichar_Symbols, so that you don’t have to guess or try to
parse out which parts of the analysis are tags.</p>
</div>
</div>
<div class="section" id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h2>
<p>Thank you to:</p>
<ul class="simple">
<li><p>The authors of the <a class="reference external" href="https://github.com/hfst/hfst">Helsinki Finite-State Technology</a> library and
application suite</p></li>
</ul>
</div>
<div class="section" id="releasing">
<h2>Releasing<a class="headerlink" href="#releasing" title="Permalink to this headline">¶</a></h2>
<p>(The script that automates the following is still a work in progress.)</p>
<p>Prepare release:</p>
<ul class="simple">
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">.dev0</span></code> suffix from <code class="docutils literal notranslate"><span class="pre">__version__</span></code> in
<code class="docutils literal notranslate"><span class="pre">hfst_optimized_lookup/__init__.py</span></code></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code>, changing “Unreleased” to release version and
adding date</p></li>
</ul>
<p>Release:</p>
<ul class="simple">
<li><p>run tests</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">setup.py</span> <span class="pre">sdist</span></code></p></li>
<li><p>Commit, tag, and push</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">twine</span> <span class="pre">upload</span> <span class="pre">dist/hfst-optimized-lookup-$VERSION.tar.gz</span></code></p></li>
</ul>
<p>Prepare for further development</p>
<ul class="simple">
<li><p>Increment <code class="docutils literal notranslate"><span class="pre">__version__</span></code>, adding <code class="docutils literal notranslate"><span class="pre">.dev0</span></code> suffix</p></li>
<li><p>Add “Unreleased” header in <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code></p></li>
<li><p>Commit and push</p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#transducerfile">TransducerFile</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#analysis">Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices and tables</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Alberta Language Technology Lab, University of Helsinki.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>